<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uiTest</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="../../menuGUI/menuGUI.css">
</head>

<body>
    <script type="module">
        import { UIElement, UISpan, UIDiv, UIRow, UIButton, UICheckbox, UIText, UINumber, UIHorizontalSplitLine, UIVerticalSplitLine, documentBodyAdd } from '../../threeSrc/libs/ui.js';
        import {
            MenuMain, MenuDirectionColumn, MenuDirectionBtn,
            MenuTitleColumn,
            MenuTitleName,
            MenuCloseMize,
            MenuCloseBtn,
            MenuMizeBtn,
            MenuContent,
            MenuCellBtn,
            dragElement
        } from '../../threeSrc/libs/ui.menu.js';

        let mainMenu = new MenuMain('主菜单');
        let directionMenu = new MenuDirectionColumn();
        mainMenu.add(directionMenu);
        let directionMenuBtn = new MenuDirectionBtn();
        directionMenu.add(directionMenuBtn);

        let fengexian1 = new UIHorizontalSplitLine();
        mainMenu.add(fengexian1);

        let menuTitleColumn = new MenuTitleColumn();
        mainMenu.add(menuTitleColumn);
        let menuTitleName = new MenuTitleName("主菜单");
        menuTitleColumn.add(menuTitleName);

        let fengexian2 = new UIVerticalSplitLine();
        menuTitleColumn.add(fengexian2);

        let menuCloseMize = new MenuCloseMize();
        menuTitleColumn.add(menuCloseMize);

        let menuCloseBtn = new MenuCloseBtn();
        menuCloseMize.add(menuCloseBtn);

        let menuMizeBtn = new MenuMizeBtn();
        menuCloseMize.add(menuMizeBtn);

        let fengexian3 = new UIHorizontalSplitLine();
        mainMenu.add(fengexian3);

        let menuContent = new MenuContent();
        mainMenu.add(menuContent);

        let cell1 = new MenuCellBtn("test", "../../menuGUI/img/dMode.png", ["B", "b"]);
        menuContent.add(cell1);

        let cell2 = new MenuCellBtn("test", "../../menuGUI/img/dMode.png", ["Q", "q"]);
        cell2.dom.addEventListener("changeCellBtnState",function(event){
            console.log(event);
        });
        menuContent.add(cell2);

        let cell3 = new MenuCellBtn("test", "../../menuGUI/img/dMode.png", ["E", "e"], ["altKey", "ctrlKey"]);
        menuContent.add(cell3);

        mainMenu.dom.style.resize = "both";
        mainMenu.dom.style.overflow = "auto";

        documentBodyAdd(mainMenu);

        dragElement(menuTitleName,mainMenu);


        let ttDiv = new UIDiv();
        ttDiv.setWidth('200px');
        ttDiv.setHeight('200px');
        ttDiv.setBackgroundColor('red');
        ttDiv.setPosition('absolute');
        ttDiv.setTop("150px");
        ttDiv.setLeft('150px');
        ttDiv.setDisplay('flex');
        ttDiv.onPointerOver(function () {
            this.setOutline('1px dashed black');
        });
        ttDiv.onPointerOut(function () {
            this.setOutline('none');
        })
        // document.body.appendChild(ttDiv.dom);
        documentBodyAdd(ttDiv);

        let ttBtn = new UIButton();
        ttBtn.setTextContent("王大发！Hello World!");
        ttBtn.onClick(function (event) {
            const lengthOfPath = event.path.length;
            for (let i = lengthOfPath - 5; i >= 0; i--) {
                console.log(event.path[i].getAttribute('name'));
            }
        });
        ttBtn.onKeyDown(function (event) {
            const lengthOfPath = event.path.length;
            for (let i = lengthOfPath - 5; i >= 0; i--) {
                console.log(event.path[i].getAttribute('name'));
            }
        });
        ttBtn.setName("gaoJi");
        ttBtn.setMarginLeft("5px");
        ttBtn.setMarginRight("5px");
        ttDiv.add(ttBtn);
        ttDiv.setJustifyContent('center');
        ttDiv.setAlignItems('center');
        ttDiv.setName('明日世界');
        console.log(ttDiv.children['gaoJi']);

        let ttSpan = new UISpan();
        ttSpan.setTextContent("这是一个段落测试。");
        document.body.appendChild(ttSpan.dom);
        ttSpan.setName("Tomorrow Land!");
        console.log(ttSpan.dom);

        // let ttHr = new UIHorizontalRule();
        // ttHr.setWidth("0px");
        // ttHr.setHeight("168px");
        // ttHr.setBorderLeft("1px solid #acacac");
        // ttHr.setBorderRight("1px solid #363636");
        // ttHr.setMarginTop("0px");
        // document.body.appendChild(ttHr.dom);
        let ttVSL = new UIVerticalSplitLine();
        ttDiv.add(ttVSL);

        let ttHSL = new UIHorizontalSplitLine();
        ttDiv.add(ttHSL);

    </script>
</body>

</html>